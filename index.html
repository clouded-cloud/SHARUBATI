<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ§ƒ</text></svg>" type="image/svg+xml">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHARUBATI | Artisanal Juices & Goods</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://unpkg.com/intasend-inlinejs-sdk@1.0.0/build/index.js"></script>
    <script>
        window.IntaSend = {
            publishable_key: "ISPubKey_test_1234567890",
            redirect_url: "https://yourwebsite.com",
            // other options
        };
    </script>

    <style>
        /* Your existing CSS stays the same */
        :root {
            --black: #000000;
            --white: #ffffff;
            --gray-1: #f5f5f5;
            --gray-2: #e0e0e0;
            --gray-3: #9e9e9e;
            --gray-4: #424242;
            --paper: #f8f6f2;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Georgia', serif;
        }
        
        body {
            background-color: white;
            color: var(--black);
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Typography */
        h1, h2, h3, h4 {
            font-weight: normal;
            letter-spacing: 0.5px;
        }
        
        /* Header Styles */
        header {
            background-color: var(--white);
            padding: 25px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid var(--gray-2);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 32px;
            font-weight: bold;
            color: var(--black);
            text-decoration: none;
            position: relative;
            display: inline-block;
            font-family: 'Playfair Display', serif;
        }
        
        .logo::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--black);
            transform: scaleX(0.8);
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 30px;
            position: relative;
        }
        
        nav ul li a {
            color: var(--black);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 5px 0;
            position: relative;
            font-size: 16px;
        }
        
        nav ul li a::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 0;
            height: 1px;
            background-color: var(--black);
            transition: width 0.3s;
        }
        
        nav ul li a:hover::after {
            width: 100%;
        }
        
        .cart-icon {
            position: relative;
            cursor: pointer;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--black);
            color: var(--white);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 12px;
        }

        .checkout-btn {
            background-color: var(--black);
            color: var(--white);
            border: none;
            padding: 8px 16px;
            font-size: 14px;
            cursor: pointer;
            margin-left: 10px;
            transition: background-color 0.3s;
        }

        .checkout-btn:hover {
            background-color: var(--gray-4);
        }

        .cart-modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }

        .cart-modal-content {
            background-color: var(--white);
            border-radius: 10px;
            max-width: 500px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .cart-modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray-4);
        }

        .cart-modal-close:hover {
            color: var(--black);
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid var(--gray-2);
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: bold;
        }

        .cart-item-price {
            color: var(--gray-4);
            font-size: 14px;
        }

        .cart-item-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .quantity-btn {
            background: var(--gray-1);
            border: none;
            width: 25px;
            height: 25px;
            cursor: pointer;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .quantity-btn:hover {
            background: var(--gray-2);
        }

        .remove-btn {
            background: #ff4444;
            color: white;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            border-radius: 4px;
            font-size: 12px;
        }

        .remove-btn:hover {
            background: #cc0000;
        }

        .cart-total {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--gray-2);
            text-align: right;
        }

        .checkout-form {
            margin-top: 20px;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 8px;
            border: 1px solid var(--gray-2);
            border-radius: 4px;
            font-size: 16px;
        }

        .checkout-submit {
            background: var(--black);
            color: white;
            border: none;
            padding: 12px 24px;
            width: 100%;
            font-size: 16px;
            cursor: pointer;
            border-radius: 4px;
            margin-top: 10px;
        }

        .checkout-submit:hover {
            background: var(--gray-4);
        }

        .checkout-submit:disabled {
            background: var(--gray-3);
            cursor: not-allowed;
        }

        /* Hero Section */
        .hero {
            padding: 120px 0 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
            background: url('https://images.unsplash.com/photo-1622597467836-f3285f2131b8?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80') center/cover no-repeat;
        }

        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            z-index: 1;
        }

        .hero .container {
            position: relative;
            z-index: 2;
        }
        
        .hero h1 {
            font-size: 64px;
            margin-bottom: 20px;
            letter-spacing: 2px;
            font-family: 'Playfair Display', serif;
            position: relative;
            display: inline-block;
            color: var(--white);
        }

        .hero h1::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 10%;
            width: 80%;
            height: 2px;
            background: linear-gradient(to right, transparent, var(--white), transparent);
        }

        .hero h2 {
            color: var(--white);
            margin-bottom: 20px;
        }

        .hero p {
            font-size: 20px;
            max-width: 700px;
            margin: 0 auto 40px;
            color: var(--white);
            font-style: italic;
        }
        
        .btn {
            display: inline-block;
            background-color: transparent;
            color: var(--black);
            padding: 12px 30px;
            border: 1px solid var(--black);
            border-radius: 0;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: "";
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0,0,0,0.1), transparent);
            transition: left 0.5s;
        }
        
        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        /* Products Section */
        .products {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 60px;
            font-size: 36px;
            position: relative;
            font-family: 'Playfair Display', serif;
        }
        
        .section-title::after {
            content: "";
            display: block;
            width: 100px;
            height: 2px;
            background-color: var(--black);
            margin: 15px auto 0;
        }
        
        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 30px;
        }
        
        .product-card {
            background-color: var(--white);
            border-radius: 2px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            border: 1px solid var(--gray-2);
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .product-image {
            height: 200px;
            background-color: var(--gray-1);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            position: relative;
        }
        
        .product-image::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, transparent 0%, rgba(0,0,0,0.1) 100%);
            opacity: 0.3;
        }
        
        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s;
            filter: grayscale(20%) contrast(110%);
        }
        
        .product-card:hover .product-image img {
            transform: scale(1.05);
        }
        
        .product-info {
            padding: 20px;
            position: relative;
        }
        
        .product-category {
            color: var(--gray-3);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 5px;
        }
        
        .product-name {
            font-size: 18px;
            margin-bottom: 10px;
            position: relative;
            display: inline-block;
        }
        
        .product-name::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 30px;
            height: 1px;
            background-color: var(--black);
        }
        
        .product-price {
            font-size: 20px;
            color: var(--black);
            margin-bottom: 15px;
        }
        
        .add-to-cart {
            width: 100%;
            padding: 10px;
            background-color: transparent;
            color: var(--black);
            border: 1px solid var(--black);
            border-radius: 0;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .add-to-cart:hover {
            background-color: var(--black);
            color: var(--white);
        }

        /* Subsection Titles */
        .subsection-title {
            font-size: 32px;
            margin-bottom: 30px;
            text-align: center;
            font-family: 'Playfair Display', serif;
            position: relative;
        }

        .subsection-title::after {
            content: "";
            display: block;
            width: 80px;
            height: 2px;
            background-color: var(--black);
            margin: 10px auto 0;
        }

        /* Menu Navigation */
        .menu-nav {
            margin-bottom: 40px;
            text-align: center;
        }

        .menu-nav ul {
            display: flex;
            justify-content: center;
            list-style: none;
            padding: 0;
            margin: 0;
            background-color: var(--white);
            border: 1px solid var(--gray-2);
            border-radius: 4px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .menu-nav ul li {
            position: relative;
        }

        .menu-nav ul li a {
            display: block;
            padding: 15px 25px;
            color: var(--black);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            border-right: 1px solid var(--gray-2);
        }

        .menu-nav ul li:last-child a {
            border-right: none;
        }

        .menu-nav ul li a:hover {
            background-color: var(--gray-1);
            color: var(--black);
        }

        .menu-nav .submenu {
            position: absolute;
            top: 100%;
            left: 0;
            background-color: var(--white);
            border: 1px solid var(--gray-2);
            border-top: none;
            min-width: 150px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s;
            z-index: 10;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .menu-nav ul li:hover .submenu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .menu-nav .submenu li {
            border-bottom: 1px solid var(--gray-2);
        }

        .menu-nav .submenu li:last-child {
            border-bottom: none;
        }

        .menu-nav .submenu li a {
            padding: 12px 20px;
            border: none;
            font-size: 14px;
        }

        .menu-nav .submenu li a:hover {
            background-color: var(--gray-1);
        }

        .order-whatsapp {
            width: 100%;
            padding: 10px;
            margin-top: 8px;
            background-color: #25D366;
            color: white;
            border: none;
            border-radius: 0;
            cursor: pointer;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: background-color 0.3s;
        }
        
        .order-whatsapp:hover {
            background-color: #1ebe57;
        }

        /* About Section */
        .about {
            padding: 80px 0;
            position: relative;
            background: var(--white);
            border-top: 1px solid var(--gray-2);
            border-bottom: 1px solid var(--gray-2);
        }
        
        .about-content {
            display: flex;
            align-items: center;
            gap: 50px;
        }
        
        .about-text {
            flex: 1;
        }
        
        .about-text h2 {
            font-size: 36px;
            margin-bottom: 20px;
            position: relative;
            display: inline-block;
            font-family: 'Playfair Display', serif;
        }
        
        .about-text h2::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 80px;
            height: 2px;
            background-color: var(--black);
        }
        
        .about-text p {
            margin-bottom: 20px;
            font-size: 18px;
            color: var(--gray-4);
        }
        
        .about-image {
            flex: 1;
            position: relative;
        }
        
        .about-image::before {
            content: "";
            position: absolute;
            top: -10px;
            left: -10px;
            width: 100%;
            height: 100%;
            border: 1px solid var(--gray-2);
            z-index: -1;
        }
        
        .about-image img {
            width: 100%;
            height: auto;
            display: block;
            filter: grayscale(100%) contrast(120%);
        }
        
        /* Footer */
        footer {
            background-color: var(--white);
            padding: 60px 0 30px;
            border-top: 1px solid var(--gray-2);
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-column h3 {
            font-size: 20px;
            margin-bottom: 20px;
            position: relative;
            padding-bottom: 10px;
            font-family: 'Playfair Display', serif;
        }
        
        .footer-column h3::after {
            content: "";
            position: absolute;
            left: 0;
            bottom: 0;
            width: 40px;
            height: 1px;
            background-color: var(--black);
        }
        
        .footer-column ul {
            list-style: none;
        }
        
        .footer-column ul li {
            margin-bottom: 10px;
        }
        
        .footer-column ul li a {
            color: var(--gray-4);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-column ul li a:hover {
            color: var(--black);
        }
        
        .social-links {
            display: flex;
            gap: 15px;
        }
        
        .social-links a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: var(--gray-1);
            border-radius: 2px;
            color: var(--black);
            text-decoration: none;
            transition: all 0.3s;
        }
        
        .social-links a:hover {
            background-color: var(--black);
            color: var(--white);
        }
        
        .copyright {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid var(--gray-2);
            color: var(--gray-3);
            font-size: 14px;
        }
        
        /* Artistic Elements */
        .sketch-border {
            position: relative;
        }
        
        .sketch-border::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23000' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            pointer-events: none;
        }
        
        /* Hand-drawn elements */
        .hand-drawn {
            position: relative;
        }
        
        .hand-drawn::after {
            content: "";
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 100%;
            height: 2px;
            background: url("data:image/svg+xml,%3Csvg width='100' height='2' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M0 1 Q 10 0, 20 1 T 40 1 T 60 1 T 80 1 T 100 1' stroke='%23000' stroke-width='1' fill='none' /%3E%3C/svg%3E") repeat-x;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            nav ul {
                margin-top: 20px;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            nav ul li {
                margin: 0 10px 10px;
            }
            
            .hero h1 {
                font-size: 40px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .about-content {
                flex-direction: column;
            }
            
            .about-image {
                order: -1;
            }
        }
        
        @media (max-width: 480px) {
            .hero {
                padding: 80px 0 60px;
            }

            .hero h1 {
                font-size: 32px;
            }

            .section-title {
                font-size: 28px;
            }

            .product-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Our Story Section - Slideshow */
        .story {
            padding: 80px 0;
            background-color: var(--gray-1);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .slideshow-container {
            position: relative;
            width: 80%;
            max-width: 600px;
            height: 80vh;
            max-height: 800px;
            overflow: hidden;
            border: 10px solid var(--white);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            background-color: var(--white);
        }

        .slide {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            filter: grayscale(20%) contrast(110%);
        }

        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .slide.active {
            display: block;
        }

        .slide-content {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 255, 255, 0.9);
            padding: 40px;
            text-align: center;
        }

        .slide-category {
            color: var(--gray-3);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .slide-title {
            font-size: 32px;
            margin-bottom: 20px;
            font-weight: bold;
            font-family: 'Playfair Display', serif;
        }

        .slide-text {
            font-size: 18px;
            color: var(--gray-4);
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
        }

        .nav-arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 20px;
            cursor: pointer;
            font-size: 24px;
            z-index: 10;
            transition: background 0.3s;
        }

        .nav-arrow:hover {
            background: rgba(0, 0, 0, 0.8);
        }

        .nav-arrow.left {
            left: 20px;
        }

        .nav-arrow.right {
            right: 20px;
        }

        .slide-indicators {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }

        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background 0.3s;
        }

        .indicator.active {
            background: white;
        }

        .story-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .story-image {
            height: 250px;
            overflow: hidden;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .story-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s;
        }

        .story-image:hover img {
            transform: scale(1.05);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background-color: var(--white);
            border-radius: 10px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .modal-close {
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray-4);
        }

        .modal-close:hover {
            color: var(--black);
        }

        .modal-title {
            font-size: 24px;
            margin-bottom: 15px;
            font-family: 'Playfair Display', serif;
        }

        .modal-text {
            font-size: 16px;
            line-height: 1.6;
            color: var(--gray-4);
        }

        /* Add to your existing CSS */
        .form-group {
            margin-bottom: 15px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid var(--gray-2);
            border-radius: 4px;
            font-size: 14px;
            font-family: inherit;
        }

        .form-group textarea {
            resize: vertical;
            min-height: 60px;
        }

        /* ADD THIS: IntaSend Payment Button Styling */
        .intaSendPayButton {
            background: var(--black) !important;
            color: white !important;
            border: none !important;
            padding: 15px 30px !important;
            font-size: 16px !important;
            cursor: pointer !important;
            border-radius: 4px !important;
            transition: background 0.3s !important;
            width: 100% !important;
            font-family: inherit !important;
            margin-top: 20px !important;
        }

        .intaSendPayButton:hover {
            background: var(--gray-4) !important;
        }

        .intaSendPayButton:disabled {
            background: var(--gray-3) !important;
            cursor: not-allowed !important;
        }

        @media (max-width: 768px) {
            .story-grid {
                max-width: 90%;
                max-height: 70vh;
            }

            .story-image {
                height: 250px;
            }

            .modal-content {
                width: 95%;
                padding: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-content">
                <a href="#" class="logo">SHARUBATI</a>
                <nav>
                    <ul>
                        <li><a href="#menu">Menu</a></li>
                        <li><a href="#merchandise">Goods</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#story">Our Story</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </nav>
                <div class="cart-icon">
                    <i class="fas fa-shopping-bag"></i>
                    <div class="cart-count">0</div>
                </div>
            </div>
        </div>
    </header>

    <!-- Our Story Section -->
    <section class="story" id="story">
        <div class="slideshow-container">
            <div class="slide active"><img src="vogue1.jpg" alt="Vogue 1"></div>
            <div class="slide"><img src="WhatsApp Image 2025-11-25 at 03.44.04_f298ed9b.jpg" alt="Vogue 2"></div>
            <div class="slide"><img src="WhatsApp Image 2025-11-25 at 03.37.38_04e609d7.jpg" alt="Vogue 3"></div>
            <div class="slide"><img src="WhatsApp Image 2025-11-25 at 03.42.51_2c49f378.jpg" alt="Vogue 4"></div>
            <div class="slide"><img src="waa.jpg" alt="Vogue 5"></div>
            <div class="slide"><img src="vogue1.jpg" alt="Vogue 1"></div>
            <div class="slide"><img src="WhatsApp Image 2025-11-25 at 03.57.11_1d462748.jpg" alt="Vogue 4"></div>

            <!-- Navigation Arrows -->
            <button class="nav-arrow left" id="left-arrow">&#10094;</button>
            <button class="nav-arrow right" id="right-arrow">&#10095;</button>

            <!-- Slide Indicators -->
            <div class="slide-indicators">
                <div class="indicator active" data-slide="0"></div>
                <div class="indicator" data-slide="1"></div>
                <div class="indicator" data-slide="2"></div>
                <div class="indicator" data-slide="3"></div>
                <div class="indicator" data-slide="4"></div>
                <div class="indicator" data-slide="5"></div>
                <div class="indicator" data-slide="6"></div>
            </div>
        </div>
    </section>

    <!-- Menu Section -->
    <section class="products" id="menu">
        <div class="container">
            <h2 class="section-title">Our Menu</h2>
            <!-- Menu Navigation -->
            <div class="menu-nav">
                <ul>
                    <li><a href="#juices">Fresh Juices</a></li>
                    <li><a href="#cocktails">Signature Cocktails</a></li>
                    <li><a href="#pastries">Artisan Pastries</a></li>
                </ul>
            </div>

            <!-- Juices Subsection -->
            <div class="menu-subsection" id="juices">
                <h3 class="subsection-title">Fresh Juices</h3>
                <div class="product-grid">
                    <!-- Product 1 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="diff colors.jpg" alt="Tropical Sunrise">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Fruit Blend</div>
                            <h3 class="product-name">Orchard Essence</h3>
                            <div class="product-price">300 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Orchard Essence" data-price="300">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 2 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="red.jpg" alt="Berry Blast">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Berry Blend</div>
                            <h3 class="product-name">Wild Berries</h3>
                            <div class="product-price">280 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Wild Berries" data-price="280">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 3 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="coke.jpg" alt="Citrus Zing">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Citrus Blend</div>
                            <h3 class="product-name">Citrus Grove</h3>
                            <div class="product-price">290 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Citrus Grove" data-price="290">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 4 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="green.jpg" alt="Green Detox">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Green Blend</div>
                            <h3 class="product-name">Green Detox</h3>
                            <div class="product-price">320 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Green Detox" data-price="320">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 6 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="strong tea.jpg" alt="Pineapple Juice">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Tropical Blend</div>
                            <h3 class="product-name">Pineapple Juice</h3>
                            <div class="product-price">280 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Pineapple Juice" data-price="280">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 7 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="diff colors.jpg" alt="Tropical Juice">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Tropical Blend</div>
                            <h3 class="product-name">Tropical Juice</h3>
                            <div class="product-price">290 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Tropical Juice" data-price="290">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 8 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="mango.jpg" alt="Mango Juice">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Tropical Blend</div>
                            <h3 class="product-name">Mango Juice</h3>
                            <div class="product-price">300 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Mango Juice" data-price="300">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 9 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="orange.jpg" alt="Passion Juice">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Tropical Blend</div>
                            <h3 class="product-name">Passion Juice</h3>
                            <div class="product-price">320 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Passion Juice" data-price="320">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 10 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="red.jpg" alt="Watermelon Juice">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Fruit Blend</div>
                            <h3 class="product-name">Watermelon Juice</h3>
                            <div class="product-price">270 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Watermelon Juice" data-price="270">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 11 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="tropical.jpg" alt="Beetroot Juice">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Vegetable Blend</div>
                            <h3 class="product-name">Beetroot Juice</h3>
                            <div class="product-price">300 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Beetroot Juice" data-price="300">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 12 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="green.jpg" alt="Pinemint Juice">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Herbal Blend</div>
                            <h3 class="product-name">Pinemint Juice</h3>
                            <div class="product-price">330 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Pinemint Juice" data-price="330">Order via WhatsApp</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Cocktails Subsection -->
            <div class="menu-subsection" id="cocktails">
                <h3 class="subsection-title">Signature Cocktails</h3>
                <div class="product-grid">
                    <!-- Product 1 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1551538827-9c037cb4f32a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Spicy Ginger Mule">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Spirited Mix</div>
                            <h3 class="product-name">Spicy Ginger Mule</h3>
                            <div class="product-price">350 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Spicy Ginger Mule" data-price="350">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 2 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1514362545857-3bc16c4c7d1b?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Tropical Paradise">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Signature Cocktail</div>
                            <h3 class="product-name">Tropical Paradise</h3>
                            <div class="product-price">340 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Tropical Paradise" data-price="340">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 3 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1546171753-97d7676e4602?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Berry Bliss Mocktail">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Mocktail</div>
                            <h3 class="product-name">Berry Bliss Mocktail</h3>
                            <div class="product-price">330 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Berry Bliss Mocktail" data-price="330">Order via WhatsApp</button>
                        </div>
                    </div>

                    <!-- Product 4 -->
                    <div class="product-card sketch-border">
                        <div class="product-image">
                            <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Midnight Martini">
                        </div>
                        <div class="product-info">
                            <div class="product-category">Classic Cocktail</div>
                            <h3 class="product-name">Midnight Martini</h3>
                            <div class="product-price">350 KSH</div>
                            <button class="add-to-cart">Add to Cart</button>
                            <button class="order-whatsapp" data-name="Midnight Martini" data-price="350">Order via WhatsApp</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Food Section -->
            <div id="pastries">
                <!-- Pastries Subsection -->
                <div class="menu-subsection">
                    <h3 class="subsection-title">Artisan Pastries</h3>
                    <div class="product-grid">
                        <!-- Product 1 -->
                        <div class="product-card sketch-border">
                            <div class="product-image">
                                <img src="https://images.unsplash.com/photo-1499636136210-6f4ee915583e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Chocolate Chip Delight">
                            </div>
                            <div class="product-info">
                                <div class="product-category">Classic Cookies</div>
                                <h3 class="product-name">Chocolate Chip Delight</h3>
                                <div class="product-price">250 KSH</div>
                                <button class="add-to-cart">Add to Cart</button>
                                <button class="order-whatsapp" data-name="Chocolate Chip Delight" data-price="250">Order via WhatsApp</button>
                            </div>
                        </div>

                        <!-- Product 2 -->
                        <div class="product-card sketch-border">
                            <div class="product-image">
                                <img src="https://images.unsplash.com/photo-1558961363-fa8fdf82db35?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Oatmeal Raisin Bliss">
                            </div>
                            <div class="product-info">
                                <div class="product-category">Healthy Cookies</div>
                                <h3 class="product-name">Oatmeal Raisin Bliss</h3>
                                <div class="product-price">260 KSH</div>
                                <button class="add-to-cart">Add to Cart</button>
                                <button class="order-whatsapp" data-name="Oatmeal Raisin Bliss" data-price="260">Order via WhatsApp</button>
                            </div>
                        </div>

                        <!-- Product 3 -->
                        <div class="product-card sketch-border">
                            <div class="product-image">
                                <img src="https://images.unsplash.com/photo-1587668178277-295251f900ce?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Macadamia Crunch">
                            </div>
                            <div class="product-info">
                                <div class="product-category">Premium Cookies</div>
                                <h3 class="product-name">Macadamia Crunch</h3>
                                <div class="product-price">280 KSH</div>
                                <button class="add-to-cart">Add to Cart</button>
                                <button class="order-whatsapp" data-name="Macadamia Crunch" data-price="280">Order via WhatsApp</button>
                            </div>
                        </div>

                        <!-- Product 4 -->
                        <div class="product-card sketch-border">
                            <div class="product-image">
                                <img src="https://images.unsplash.com/photo-1606312619070-d48b4c652a52?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Double Chocolate Heaven">
                            </div>
                            <div class="product-info">
                                <div class="product-category">Chocolate Cookies</div>
                                <h3 class="product-name">Double Chocolate Heaven</h3>
                                <div class="product-price">270 KSH</div>
                                <button class="add-to-cart">Add to Cart</button>
                                <button class="order-whatsapp" data-name="Double Chocolate Heaven" data-price="270">Order via WhatsApp</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Merchandise Section -->
    <section class="products" id="merchandise">
        <div class="container">
            <h2 class="section-title">Goods & Merchandise</h2>
            <div class="product-grid">
                <!-- Product 1 -->
                <div class="product-card sketch-border">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1583743814966-8936f5b7be1a?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Premium T-Shirt">
                    </div>
                    <div class="product-info">
                        <div class="product-category">Apparel</div>
                        <h3 class="product-name">Artisan Tee</h3>
                        <div class="product-price">350 KSH</div>
                        <button class="add-to-cart">Add to Cart</button>
                        <button class="order-whatsapp" data-name="Artisan Tee" data-price="350">Order via WhatsApp</button>
                    </div>
                </div>
                
                <!-- Product 2 -->
                <div class="product-card sketch-border">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1589998059171-988d887df646?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Insulated Bottle">
                    </div>
                    <div class="product-info">
                        <div class="product-category">Accessories</div>
                        <h3 class="product-name">Novel Books</h3>
                        <div class="product-price">340 KSH</div>
                        <button class="add-to-cart">Add to Cart</button>
                        <button class="order-whatsapp" data-name="Novel Books" data-price="340">Order via WhatsApp</button>
                    </div>
                </div>
                
                <!-- Product 3 -->
                <div class="product-card sketch-border">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1576566588028-4147f3842f27?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Juice Pack">
                    </div>
                    <div class="product-info">
                        <div class="product-category">Gift Set</div>
                        <h3 class="product-name">Collector's Set</h3>
                        <div class="product-price">350 KSH</div>
                        <button class="add-to-cart">Add to Cart</button>
                         <button class="order-whatsapp" data-name="Collector's Set" data-price="350">Order via WhatsApp</button>
                    </div>
                </div>
                
                <!-- Product 4 -->
                <div class="product-card sketch-border">
                    <div class="product-image">
                        <img src="https://images.unsplash.com/photo-1553062407-98eeb64c6a62?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="Logo Cap">
                    </div>
                    <div class="product-info">
                        <div class="product-category">Apparel</div>
                        <h3 class="product-name">Canvas Cap</h3>
                        <div class="product-price">330 KSH</div>
                        <button class="add-to-cart">Add to Cart</button>
                        <button class="order-whatsapp" data-name="Canvas Cap" data-price="330">Order via WhatsApp</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-text">
                    <h2>About Us</h2>
                    <p>Welcome to Sharubati, where every sip tells a story. Our name is our heritage, inspired by the Arabic word for a delicious, fruity beverage. But our soul is pure Kenyan energy.</p>

                    <p>We took that foundation and gave it a local twist, transforming the last syllable into "bare" â€“ the Swahili slang for "slap." And that's exactly what our flavors do. They hit you with a wave of taste so intense, so unexpectedly delicious, it's a bare of pure goodness.</p>

                    <p>From our fresh, nutrient-packed juices to the crafted cocktails and mocktails at the sharuBARti section, we're here to revolutionize your drink experience. So come on in, and let your taste buds get slapped by flavor.</p>

                    <a href="#" class="btn">Our Process</a>
                </div>
                <div class="about-image sketch-border">
                    <img src="https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60" alt="About Ink & Press">
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Shop</h3>
                    <ul>
                        <li><a href="#menu">All Menu</a></li>
                        <li><a href="#merchandise">Goods & Merch</a></li>
                        
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>About</h3>
                    <ul>
                        <li><a href="#about">About Us</a></li>
                        
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect</h3>
                    <p>Follow our journey and discover new releases.</p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/sharubati.shop/"><i class="fab fa-instagram"></i></a>

                        
                    </div>
                </div>
            </div>
            <div class="copyright">
                &copy; 2025 SHARUBATI. All rights reserved. <br>
                
            </div>
        </div>
    </footer>

    <!-- Cart Modal - REMOVED DUPLICATE -->
    <div class="cart-modal" id="cart-modal">
        <div class="cart-modal-content">
            <span class="cart-modal-close" id="cart-modal-close">&times;</span>
            <h2 style="margin-bottom: 20px; font-family: 'Playfair Display', serif;">Your Cart</h2>
  
<h3 style="color: red; font-weight: bold;">We're building a new checkout page! Please order via WhatsApp</h3>
            
            <div id="cart-items">
                <!-- Cart items will be populated here -->
            </div>
            <div class="cart-total" id="cart-total">
                <strong>Total: 0 KSH</strong>
            </div>
            
            <!-- Customer Information Form -->
            <div id="customer-form" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--gray-2);">
                <h3 style="margin-bottom: 15px; font-size: 18px;">Delivery Information</h3>
                <div class="form-group">
                    <label for="customer-name">Full Name *</label>
                    <input type="text" id="customer-name" placeholder="Your full name" required>
                </div>
                <div class="form-group">
                    <label for="customer-phone">Phone Number *</label>
                    <input type="tel" id="customer-phone" placeholder="0712 345 678" pattern="[0-9]{10}" required>
                    <small style="color: var(--gray-3); font-size: 12px;">Format: 0712345678 (10 digits)</small>
                </div>
                <div class="form-group">
                    <label for="customer-email">Email Address</label>
                    <input type="email" id="customer-email" placeholder="your@email.com">
                </div>
                <div class="form-group">
                    <label for="delivery-address">Delivery Address (if needed)</label>
                    <textarea id="delivery-address" rows="2" placeholder="Enter delivery address"></textarea>
                </div>
            </div>
            
            <!-- CHANGED: IntaSend Payment Button -->
            <button class="intaSendPayButton"
                    id="checkout-btn"
                    data-amount="0"
                    data-currency="KES"
                    data-country="KE"
                    disabled>
              This section is currently being updated
            </button>
            
            <p style="text-align: center; margin-top: 10px; color: var(--gray-3); font-size: 12px;">
                You'll be redirected to IntaSend for secure payment
            </p>
        </div>
    </div>

<script>
document.addEventListener("DOMContentLoaded", function () {

  // Slideshow
  const slides = document.querySelectorAll('.slide');
  const dots = document.querySelectorAll('.indicator');
  let current = 0;

  if (slides.length > 0) {
    const show = (n) => {
      const i = ((n % slides.length) + slides.length) % slides.length;
      slides.forEach(s => s.classList.remove('active'));
      dots.forEach(d => d.classList.remove('active'));
      slides[i].classList.add('active');
      dots[i].classList.add('active');
      current = i;
    };

    document.getElementById('left-arrow')?.addEventListener('click', () => show(current - 1));
    document.getElementById('right-arrow')?.addEventListener('click', () => show(current + 1));
    dots.forEach((dot, i) => dot.addEventListener('click', () => show(i)));

    setInterval(() => show(current + 1), 5000);
    show(0);
  }

  // Cart System
  let cart = [];
  const cartIcon = document.querySelector('.cart-icon');
  const cartCount = document.querySelector('.cart-count');
  const cartModal = document.getElementById('cart-modal');
  const closeModal = document.getElementById('cart-modal-close');
  const cartList = document.getElementById('cart-items');
  const cartTotal = document.getElementById('cart-total');
  const checkoutBtn = document.getElementById('checkout-btn');

  const refreshCart = () => {
    const totalItems = cart.reduce((a, b) => a + b.quantity, 0);
    cartCount.textContent = totalItems;

    cartList.innerHTML = '';
    const totalPrice = cart.reduce((a, b) => a + b.price * b.quantity, 0);

    if (cart.length === 0) {
      cartList.innerHTML = '<p style="text-align:center;color:#888">Your cart is empty</p>';
      cartTotal.innerHTML = '<strong>Total: 0 KSH</strong>';
      checkoutBtn.disabled = true;
      checkoutBtn.innerHTML = 'Proceed to Checkout (0 KSH)';
      checkoutBtn.setAttribute('data-amount', '0');
      return;
    }

    cart.forEach((item, i) => {
      cartList.innerHTML += `
        <div class="cart-item">
          <div class="cart-item-info">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-price">${item.price} KSH each</div>
          </div>
          <div class="cart-item-controls">
            <button class="quantity-btn" onclick="cartChange(${i},-1)">âˆ’</button>
            <span>${item.quantity}</span>
            <button class="quantity-btn" onclick="cartChange(${i},1)">+</button>
            <button class="remove-btn" onclick="cartChange(${i},0)">Remove</button>
          </div>
        </div>`;
    });

    cartTotal.innerHTML = `<strong>Total: ${totalPrice} KSH</strong>`;
    
    // Get customer data from form
    const name = document.getElementById('customer-name').value.trim();
    const phone = document.getElementById('customer-phone').value.trim();
    const email = document.getElementById('customer-email').value.trim();

    // Update IntaSend payment button
    checkoutBtn.setAttribute('data-amount', totalPrice);

    if (name) {
      const nameParts = name.split(' ');
      checkoutBtn.setAttribute('data-first_name', nameParts[0]);
      if (nameParts.length > 1) {
        checkoutBtn.setAttribute('data-last_name', nameParts.slice(1).join(' '));
      }
    }

    if (phone) {
      // Format phone for IntaSend (254XXXXXXXXX)
      const cleanedPhone = phone.replace(/\D/g, '');
      let formattedPhone = cleanedPhone;
      if (cleanedPhone.length === 10 && cleanedPhone.startsWith('0')) {
        formattedPhone = '254' + cleanedPhone.substring(1);
      }
      checkoutBtn.setAttribute('data-phone_number', formattedPhone);
    }

    if (email) {
      checkoutBtn.setAttribute('data-email', email);
    }

    // Add unique reference
    checkoutBtn.setAttribute('data-api_ref', `SHARUBATI-${Date.now()}`);

    // Enable button if amount > 0 (remove validation for required fields)
    if (totalPrice > 0) {
      checkoutBtn.disabled = false;
      checkoutBtn.innerHTML = `Proceed to Checkout (${totalPrice} KSH)`;
    } else {
      checkoutBtn.disabled = true;
      checkoutBtn.innerHTML = 'Proceed to Checkout (0 KSH)';
    }
  };

 

  window.addToCart = (name, priceText) => {
    console.log('addToCart called with', name, priceText);
    const price = parseInt(priceText.replace(' KSH', ''));
    const existing = cart.find(i => i.name === name);
    if (existing) existing.quantity++;
    else cart.push({ name, price, quantity: 1 });
    console.log('Cart updated:', cart);
    refreshCart();
  };

  cartIcon.addEventListener('click', () => {
    // Validate form before showing cart

    
    cartModal.style.display = 'flex';
    refreshCart();
  });
  
  closeModal.addEventListener('click', () => cartModal.style.display = 'none');
  cartModal.addEventListener('click', e => { 
    if (e.target === cartModal) cartModal.style.display = 'none'; 
  });

  // Add to Cart Buttons
  document.querySelectorAll('.add-to-cart').forEach(btn => {
    btn.addEventListener('click', function () {
      const card = this.closest('.product-card');
      const name = card.querySelector('.product-name').textContent;
      const price = card.querySelector('.product-price').textContent;
      window.addToCart(name, price);

      this.textContent = 'Added!';
      this.style.backgroundColor = '#000';
      this.style.color = '#fff';
      setTimeout(() => {
        this.textContent = 'Add to Cart';
        this.style.backgroundColor = '';
        this.style.color = '';
      }, 1500);
    });
  });

  // WhatsApp Buttons
  document.querySelectorAll('.order-whatsapp').forEach(btn => {
    btn.addEventListener('click', e => {
      e.preventDefault();
      const card = btn.closest('.product-card');
      const name = card.querySelector('.product-name').textContent;
      const price = card.querySelector('.product-price').textContent;
      const text = `Hello SHARUBATI! I want to order:\nâ€¢ ${name} - ${price}\nThank you!`;
      window.open(`https://api.whatsapp.com/send?phone=254742462975&text=${encodeURIComponent(text)}`, '_blank');
    });
  });

  // Payment initiation function
  window.initiatePayment = async () => {
    const name = document.getElementById('customer-name').value.trim();
    const phone = document.getElementById('customer-phone').value.trim();
    const email = document.getElementById('customer-email').value.trim();
    const address = document.getElementById('delivery-address').value.trim();
    const totalPrice = cart.reduce((a, b) => a + b.price * b.quantity, 0);

    if (!name || !phone || totalPrice <= 0) {
      alert('Please fill in all required fields and ensure cart is not empty.');
      return;
    }

    // Format phone number for IntaSend (254XXXXXXXXX)
    const cleanedPhone = phone.replace(/\D/g, '');
    let formattedPhone = cleanedPhone;
    if (cleanedPhone.length === 10 && cleanedPhone.startsWith('0')) {
      formattedPhone = '254' + cleanedPhone.substring(1);
    }

    const paymentData = {
      phone_number: formattedPhone,
      email: email || '',
      amount: totalPrice,
      currency: 'KES',
      comment: `SHARUBATI Order - ${cart.map(item => `${item.name} x${item.quantity}`).join(', ')}`,
      redirect_url: 'http://localhost:5000/thank-you',
      api_ref: `SHARUBATI-${Date.now()}`
    };

    try {
      const response = await fetch('http://localhost:5000/initiate-payment', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
        },
        body: JSON.stringify(paymentData)
      });

      const result = await response.json();

      if (result.success) {
        // Redirect to IntaSend payment page
        window.location.href = result.url;
      } else {
        alert('Payment initiation failed: ' + (result.error || 'Unknown error'));
      }
    } catch (error) {
      console.error('Payment error:', error);
      alert('Failed to initiate payment. Please try again.');
    }
  };
});
</script>
</body>
</html>


 

